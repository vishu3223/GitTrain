"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23197],{118335:(e,t,a)=>{a.d(t,{b:()=>s});var i=a(571024);let s=a.n(i)()(()=>a.e(24637).then(a.bind(a,834217)).then(e=>({default:e.RelatedKeywordsSection})),{loadableGenerated:{webpack:()=>[834217]}})},118589:(e,t,a)=>{a.d(t,{o:()=>o});var i=a(406029),s=a(559044),r=a(383912),n=a(461266),l=a(455729),m=a(93138);let o=e=>{let{asset:t=n.vB,collectionId:a="",sameArtistAssets:o=n.tR,withInlineCta:d=!1,...c}=e,{contributor:p}=t,u=(0,s.qQ)({asset:t}),g=(0,s.f0)(t);(0,l.useMemo)(()=>(0,s.ch)({assetGroups:[o]}),[o]);let h=(0,l.useMemo)(()=>o.filter(e=>(0,s.qQ)({asset:e})!==u),[u,o]),y=(0,r.Bp)({contributor:p,id:a,subPage:g}),{portfolioUrlSuffix:_}=p?.publicInformation||{};return(0,i.jsx)(m.t,{assets:h,pathProps:y,showAssetTypeIcon:!0,withInlineCta:d,showCtaProp:!!_,...c})}},264256:(e,t,a)=>{a.r(t),a.d(t,{RelatedSectionsToUse:()=>O});var i=a(406029),s=a(828863),r=a(845788),n=a(898257),l=a(559044),m=a(813631),o=a(390280),d=a(574961);let c=JSON.parse('{"id":"81a54caf2d8bafe1c2366ff835f330bc83876fc0e874b8b3b2652c758489ad1d","type":"query","name":"FetchRelatedAssets","source":"query FetchRelatedAssets($where:MediaWhere!,$sameArtistWhere:SearchWhere!,$sameModelWhere:SearchWhere!,$topSimilarCount:Int,$recommendationAnchors:RecommendationAnchors,$recommendationCountry:CountryCode,$recommendationFilters:RecommendationFilters!,$recommendationLimit:UnsignedInt,$recommendationStrategy:StrategyEnum!,$fetchRecommendations:Boolean! = false,$fetchSameArtist:Boolean! = false,$fetchSameModel:Boolean! = false,$fetchSimilarGeneratedImages:Boolean! = false,$fetchSimilarImages:Boolean! = false,$fetchSimilarVideos:Boolean! = false,$similarImagesCollectionType:CollectionTypeEnum! = APPROVED,$similarVideosCollectionType:CollectionTypeEnum! = APPROVED_VIDEO){creativeImages(where:$where){data{...SimilarGeneratedImagesFragment @include(if:$fetchSimilarGeneratedImages)...SimilarImagesFragment @include(if:$fetchSimilarImages)...SimilarVideosFragment @include(if:$fetchSimilarVideos)__typename}__typename}sameArtist:creativeMediaSearch(where:$sameArtistWhere)@include(if:$fetchSameArtist){...SearchResultsFragment __typename}sameModel:creativeMediaSearch(where:$sameModelWhere)@include(if:$fetchSameModel){...SearchResultsFragment __typename}recommendations(anchors:$recommendationAnchors strategy:$recommendationStrategy country:$recommendationCountry limit:$recommendationLimit filters:$recommendationFilters)@include(if:$fetchRecommendations){...RecommendationFragment __typename}}fragment SimilarGeneratedImagesFragment on CreativeImage{similarGeneratedImages:similarImages(top:$topSimilarCount collectionType:GENERATED){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}}}}__typename}fragment SimilarEntityIdFragment on CreativeSimilarImageResult{entities{classicId __typename}__typename}fragment CreativeImageMediaFieldsFragment on CreativeImage{...CreativeImageBasicInfoFragment...CreativeImageBooleanFieldsFragment sellableImageSizes{...CreativeImageSellableSizesFragment __typename}__typename}fragment CreativeImageBasicInfoFragment on CreativeImage{__typename classicId aspect aspectRatio contributorId description thumbnailImageUrlTemplate secureWatermarkImageUrl keywords metadataStatus{mainStatus qualifierStatus __typename}channels contentTier{id __typename}contentTiers}fragment CreativeImageBooleanFieldsFragment on CreativeImage{exclusiveToSstk is3dSpinner isAdult isEditorial isGenerated isIllustration isIpReviewed isVector __typename}fragment CreativeImageSellableSizesFragment on SellableImageSize{...on SellableCreativeImageJpgSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImagePngSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImagePSDSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImageVectorSize{__typename name displayName fileSize humanFileSize format}__typename}fragment SimilarImagesFragment on CreativeImage{similarImages(top:$topSimilarCount collectionType:$similarImagesCollectionType){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}}}}__typename}fragment SimilarVideosFragment on CreativeImage{similarVideos:similarImages(top:$topSimilarCount collectionType:$similarVideosCollectionType){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeVideo{...CreativeVideoMediaFieldsFragment __typename}}}}__typename}fragment CreativeVideoMediaFieldsFragment on CreativeVideo{...CreativeVideoBasicInfoFragment...CreativeVideoBooleanFieldsFragment sellableVideoSizes{...CreativeVideoSellableSizesFragment __typename}__typename}fragment CreativeVideoBasicInfoFragment on CreativeVideo{__typename type classicId aspect aspectRatio contributorId description addedDate channels duration previewImageUrl keywords secureWatermarkUrl{mp4 webm __typename}translatedDescriptions{availableTranslatedDescriptions{lang description __typename}description __typename}contentTiers}fragment CreativeVideoBooleanFieldsFragment on CreativeVideo{exclusiveToSstk isAdult isEditorial isIpReviewed __typename}fragment CreativeVideoSellableSizesFragment on SellableCreativeVideoSize{name displayName format videoCodec fileSize humanFileSize fps height{pixels __typename}width{pixels __typename}__typename}fragment SearchResultsFragment on SearchResponse{results{docs{...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}__typename}__typename}__typename}fragment RecommendationFragment on RecommendationResponse{response{results{media{...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}__typename}__typename}tracer __typename}internals{providers{resultsCount __typename}__typename}__typename}"}');var p=a(17563),u=a(965461),g=a(82281),h=a.n(g);let{publicRuntimeConfig:{apiEndpoints:y}}=h()(),_=e=>[m.$E,m.kc,m.vo].includes(e?.imageType),I=e=>!!e?.releases?.length&&[m.$E,m.kc,m.vo].includes(e?.imageType),S=e=>(0,l.Bq)({asset:e}),f=e=>(0,l.Bq)({asset:e})||[m.$E,m.kc,m.vo].includes(e?.imageType),v=e=>(0,l.Bq)({asset:e})||[m.$E,m.kc,m.vo].includes(e?.imageType),C=e=>{let{asset:t,isMobile:a,isSameArtist:i,isSameModel:s,locale:r,region:n,isFilterByUnlimited:l}=e,{contributorId:m="",id:d,keywords:c,releases:u}=t||{},g=a?o.Zh:o.SE,h=a?o.Zh:o.d3,y={cache:!0,countryCode:n,language:r,mediaType:p.$9.Image,rows:i?h:g,safeSearch:{isSafe:!0},sortOrder:p.ti.Popular,start:0,...l&&{classicContentTiers:{anyOf:[p.i2.UnlimitedV_0_1]}}};return i&&m?{...y,contributors:{ids:{anyOf:[m]}},query:c?.[0]||""}:s&&u?{...y,classicIds:{noneOf:[d]},releases:{classicModelReleaseIds:{anyOf:u.map(String)}}}:y},b=e=>{let{asset:t,brand:a,experiments:i,headers:s={},isBot:r,isLoggedInUser:n=!1,isMobile:l=!1,locale:m,region:o,searchTerm:g="",subscriptionProduct:h,topSimilarCount:b=10,isFilterByUnlimited:F=!1}=e,$=(0,d.g2)({asset:t,locale:m,region:o,searchTerm:g,subscriptionProduct:h,isFilterByUnlimited:F}),R=C({asset:t,isMobile:l,isSameArtist:!0,locale:m,region:o,isFilterByUnlimited:F}),A=C({asset:t,isMobile:l,isSameModel:!0,locale:m,region:o,isFilterByUnlimited:F}),w=(0,d.aR)({asset:t,isBot:r,isLoggedInUser:n,isMobile:l,region:o}),T=_(t),x=I(t),V=S(t),k=f(t),E=v(t),L={where:{classicId:t.id},...{fetchRecommendations:w,...$},...{fetchSameArtist:T,sameArtistWhere:R},...{fetchSameModel:x,sameModelWhere:A},...V&&{fetchSimilarGeneratedImages:V,topSimilarCount:b},...k&&{fetchSimilarImages:k,topSimilarCount:b,...F&&{similarImagesCollectionType:p.e9.UnlimitedImage}},...E&&{fetchSimilarVideos:E,topSimilarCount:b,...F&&{similarVideosCollectionType:p.e9.UnlimitedVideo}}};return{formattedRequest:{document:c.source,requestHeaders:{...(0,u.C)({brand:a,experiments:i,page:"",isBot:r}),...s},url:`${y.graphGateway}/graphql`,variables:L},query:c.source,variables:L}};var F=a(705992),$=a(581298),R=a(270372),A=a(184905),w=a(498917),T=a(215048);let x=e=>(e??[]).map(e=>(0,T.u)(e)),V=e=>(e??[]).map(e=>(0,w.PU)(e)),k=e=>{let{creativeImages:{data:t}={data:[]},recommendations:a,sameArtist:i,sameModel:s}=e||{},r=(0,d.Er)({recommendations:a})||[],n=V(i?.results?.docs)||[],l=V(s?.results?.docs)||[],m=x(t?.[0]?.similarImages?.entities)||[],o=x(t?.[0]?.similarVideos?.entities)||[];return{personalizedImages:r,sameArtist:n,sameModel:l,visuallySimilar:m,visuallySimilarGenerated:x(t?.[0]?.similarGeneratedImages?.entities)||[],visuallySimilarVideos:o}};var E=a(498848),L=a(323069),P=a(946131),B=a(778042),M=a(377981),z=a(903074),j=a(962316),U=a(12482);let G=(0,j.NF)()?3e3:15e3,{publicRuntimeConfig:{_app:{name:N}}}=h()(),q={personalizedImages:[],sameArtist:[],sameModel:[],visuallySimilar:[],visuallySimilarGenerated:[],visuallySimilarVideos:[]},W=(e,t,a)=>{let i=e&&"object"==typeof e&&"response"in e?e?.response:void 0;if(i){let e=i?.errors||[],a=i?.extensions?.valueCompletion||[],s={message:i?.errors?.[0]?.message||"N/A"};e.forEach((e,t)=>{s[`error${t+1}`]=`${e.message}, Path: ${e.path?.join(".")||"N/A"}`}),a.forEach((e,t)=>{s[`valueCompletion${t+1}`]=`${e.message}, Path: ${e.path?.join(".")||"N/A"}`}),t({actionName:"FetchRelatedAssets - GraphQLError",customAttributes:s});let r=i?.data;if(r)return k(r)}if(e instanceof Error){if("AbortError"===e.name)return t({actionName:"FetchRelatedAssets - Timeout",customAttributes:{message:"Fetch request timed out",timeoutDuration:a}}),q;t({actionName:"FetchRelatedAssets - Error",customAttributes:{message:e.message||"unknown error occurred"}});let s=i?.data;if(s)return k(s)}return q},X=e=>{let{asset:t,shouldFetch:a=!0}=e,{region:i,locale:s}=(0,$.Y)(),{isGoodBot:r}=(0,n.l)(),{brand:l}=(0,L.P)(),m=(0,B.a)(),{type:d}=t||{},c=(0,M.h)(),{getSearchContext:p}=(0,E.J)(),{search_term:u}=p?.()||{},g=m?o.Zh:2*o.SE,h=(0,z.J)(),y=(0,A.H)(),_=(0,R.r)({asset:t,features:h,isUnlimitedExperience:y}),I=h?.subscriptions?.[0]?.product?.name,{formattedRequest:{requestHeaders:S,variables:f},query:v}=b({asset:t,brand:l,experiments:{},headers:{[F.E3]:`${N}/asset-details-page/related-assets`,[F.ef]:`${d}-related-assets`},isBot:r,isMobile:m,isLoggedInUser:!!h?.userType,locale:s,region:i,searchTerm:"undefined"===u?"":u,subscriptionProduct:I,topSimilarCount:g,isFilterByUnlimited:_}),C=(0,P.s)("/"),w=[v],T=r?15e3:G,x=async()=>{try{let e=new AbortController,t=setTimeout(()=>e.abort(),T),a=await C(v,f,{headers:S,signal:e.signal});return clearTimeout(t),k(a)}catch(e){return W(e,c,T)}};return(0,U.I)({enabled:a,queryKey:w,queryFn:x})},O=e=>{let{asset:t,labels:a,isLocal:m,getSearchTermPathProps:o}=e,d=(0,l.Uh)(t),{isGoodBot:c}=(0,n.l)(),p=(0,B.a)(),{data:u={},isLoading:g}=X({asset:t,shouldFetch:!c&&!d})||{},{sameModel:h=[],sameArtist:y=[],visuallySimilar:_=[],visuallySimilarVideos:I=[],visuallySimilarGenerated:S=[],personalizedImages:f=[]}=c?t:u,v=!p&&c;return g?(0,i.jsx)(r.B,{}):!d&&(g||d)?null:(0,i.jsx)(s.a,{asset:t,gridSpacing:4,labels:a,personalizedImages:f,sameArtistAssets:y,sameModel:h,showSimilarVideos:!0,visuallySimilar:_,visuallySimilarMaxRows:2,visuallySimilarVideos:I,visuallySimilarGenerated:S,withInlineCta:!d,isLocal:m,useCssGrid:v,maxRows:v?null:2,getSearchTermPathProps:o,isCustomMobileGridWidth:!0})}},270372:(e,t,a)=>{a.d(t,{r:()=>n});var i=a(559044),s=a(813631);let r=(e,t)=>{let a=e?.isActiveFlexUser,i=e?.isActiveCreditPackUser;if(a||i)return!0;switch(t){case s.W1:return e?.isActiveImageSubUser||e?.isActiveImagePackUser;case s.G_:return!!e?.isActiveVideoPlanUser;case s.on:case s.M9:return!!e?.isActiveMusicPlanUser;default:return!1}},n=e=>{let{asset:t,features:a,bypassAssetCheck:s,assetType:n,isUnlimitedExperience:l}=e,m=s||(0,i.sY)(t),o=r(a,t?(0,i.f0)(t):n),d=!!a?.isUserWithActiveBasicUnlimitedPlan,c=!a?.userId||a?.isFBA||a?.isLapsedAccount;return!!((d&&!o||c&&l)&&m)}},574961:(e,t,a)=>{a.d(t,{Er:()=>u,aR:()=>c,g2:()=>p,x8:()=>o});var i=a(813631),s=a(449080),r=a(113026),n=a(390280),l=a(498917),m=a(17563);let o=["IN"],d=e=>{switch(e.toLowerCase()){case i.$E:return m.XJ.Illustration;case i.vo:return m.XJ.Photo;case i.kc:return m.XJ.Vector;default:return m.XJ.Photo}},c=e=>{let{asset:t,isBot:a,isLoggedInUser:s,isMobile:r,region:n}=e;if(a)return!1;let l=[i.$E,i.kc,i.vo].includes(t?.imageType),m=!o.includes(n)&&!r;return l&&(s||m)},p=e=>{let{asset:t,limit:a=n.hI,locale:i,region:r,searchTerm:l="",subscriptionProduct:o,isFilterByUnlimited:c=!1}=e,{id:p,imageType:u=m.XJ.Photo}=t||{},g="undefined"===l?"":l,h=RegExp("^id:*").test(g);return{recommendationAnchors:{classicIds:[p],locale:i,mediaType:m.g9.Image,...o?{subscriptionProduct:o}:{},...!h&&{text:g}},recommendationCountry:r,recommendationFilters:{channels:[m.Tm.Shutterstock],imageType:d(u),mediaType:m.g9.Image,...c&&{content:{tiers:s.dV}}},recommendationLimit:a,recommendationStrategy:m.xp.Style}},u=e=>{let{recommendations:t}=e,{response:a,internals:i}=t||{},{results:s,tracer:n}=a||{},{resultsCount:m}=i?.providers?.[0]||{};return s?.reduce((e,t)=>{let{media:a}=t;if(a?.__typename===r.Vi){let t={...(0,l.PU)(a),meta:{trackingId:n,totalCount:{images:m}}};e.push(t)}return e},[])||[]}},828863:(e,t,a)=>{a.d(t,{a:()=>T});var i=a(406029),s=a(93138),r=a(118335),n=a(118589),l=a(758018),m=a(727326),o=a(581298),d=a(558328),c=a(559044),p=a(574961),u=a(778042),g=a(30721),h=a(586694),y=a(383912),_=a(168663),I=a(81307),S=a(461266),f=a(807703);let v=`${m.Rko} - personalizedImages`,C=`${m.Rko} - similarImages`,b=`${m.Rko} - sameModel`,F=`${m.Rko} - moreFromThisArtist`,$=`${m.Rko} - sameCollection`,R=`${m.Rko} - similarVideoClips`,A=`${m.Rko} - similarAIImages`,w=(0,f.n9)()(e=>{let{tokens:{fontWeight:t}}=e;return{bold:{"&&":{fontWeight:t.bold}}}}),T=e=>{let{asset:t=S.vB,collectionId:a="",collectionItems:f=S.tR,labels:T=S.vB,personalizedImages:x=S.tR,sameModel:V=S.tR,showSimilarVideos:k=!1,sameArtistAssets:E=S.tR,visuallySimilar:L=S.tR,visuallySimilarMaxRows:P=2,visuallySimilarVideos:B=S.tR,visuallySimilarGenerated:M=S.tR,withInlineCta:z=!1,getSearchTermPathProps:j,...U}=e,{id:G,contributor:N,releases:q,channels:W,keywords:X}=t,{classes:O,cx:J}=w(),{classes:D}=(0,I.eu)(),Z=(0,u.a)(),{assetsFromSameCollection:H,containedInCollectionsTitle:Q,relatedSectionButton:Y,visuallySimilarVideosTitle:K}=T,ee=(0,_.M_)(t.id),et=(0,_.n5)(G),ea=(0,_.pH)(G),ei=(0,_.Mr)(G),es=(0,_.Xx)({ids:q&&q.join(","),imageId:G}),er=(0,y.Bp)({contributor:N,id:a}),en=(0,c.Uh)({channels:W}),el=(0,g.rA)()?.data?.id,em=(0,c.R1)(t),{region:eo}=(0,o.Y)(),ed=el||!p.x8.includes(eo)&&!Z,ec=(0,d.q)();return(0,i.jsxs)(i.Fragment,{children:[!en&&!em&&(0,i.jsx)(h.SX,{value:C,children:(0,i.jsx)(s.t,{assets:L,listId:m.tmp,buttonLabel:T.relatedSectionButton,pathProps:et,title:T.visuallySimilarTitle,maxRows:P,withInlineCta:z,gridId:"related-images-section",...U})}),ed&&(0,i.jsx)(h.SX,{value:v,children:(0,i.jsx)(s.t,{maxRows:2,listId:m.aZW,title:T.personalizedImagesTitle,assets:x,buttonLabel:T.personalizedImagesButton,pathProps:ee,withInlineCta:z,gridId:"related-personalized-section",...U})}),(0,i.jsx)(h.SX,{value:A,children:(0,i.jsx)(s.t,{assets:M,listId:m.RnV,buttonLabel:T.generateMoreButton,pathProps:ei,title:T.visuallySimilarGeneratedTitle,withInlineCta:z,gridId:"related-ai-images-section",...U})}),(0,i.jsx)(h.SX,{value:$,children:(0,i.jsx)(s.t,{title:z?H:(0,i.jsxs)(i.Fragment,{children:[Q.preLinkLabel,(0,i.jsx)(l.N,{className:J(D.buttonAnchor,O.bold),href:er[0],linkAs:er[1],underline:!0,children:Q.linkLabel}),Q.postLinkLabel]}),pathProps:er,assets:f,listId:m.sLc,buttonLabel:Y,withInlineCta:z,gridId:"related-same-collection-section",...U})}),(0,i.jsx)(h.SX,{value:b,children:(0,i.jsx)(s.t,{assets:V,listId:m.dCS,buttonLabel:T.relatedSectionButton,pathProps:es,title:T.sameModelTitle,withInlineCta:z,gridId:"related-same-model-section",...U})}),ec&&(0,i.jsx)(r.b,{getPathProps:j,keywords:X,is3dObject:em}),(0,i.jsx)(h.SX,{value:F,children:(0,i.jsx)(n.o,{asset:t,listId:m.AxK,collectionId:a,buttonLabel:T.relatedSectionButton,sameArtistAssets:E,title:T.sameArtistAssetsTitle,withInlineCta:z,gridId:"related-same-artist-section",...U})}),k&&(0,i.jsx)(h.SX,{value:R,children:(0,i.jsx)(s.t,{assets:B,listId:m.Aom,title:K,buttonLabel:T.relatedSectionButton,withInlineCta:z,pathProps:ea,showAssetTypeIcon:!0,gridId:"related-similar-videos-section",...U})})]})}}}]);
//# sourceMappingURL=ImageRelatedSectionsToUse.2a019088ba9f6377.js.map